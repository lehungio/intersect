{"version":3,"sources":["webpack:///webpack/bootstrap 7651bb09c6985c39684b","webpack:///./examples.js","webpack:///./intersect.js"],"names":["Example","context","width","height","origin","infiniteLength","Math","sqrt","box","color","thickness","x1","floor","x","pos","half","y1","y","x2","y2","beginPath","moveTo","lineTo","closePath","lineWidth","strokeStyle","stroke","circle","arc","radius","PI","point","text","fillStyle","fillRect","strokeRect","fillText","dir","length","arrow","pos2","drawSegment","clone","point1","point2","elapsed","AABBPointExample","angle","cos","sin","hit","intersectPoint","drawAABB","drawPoint","AABBSegmentExample","pos1","delta","intersectSegment","normalize","drawRay","normal","AABBAABBExample","box1","box2","intersectAABB","AABBSweptAABBExample","staticBox","sweepBoxes","sweepDeltas","tempBox","factor","forEach","i","sweep","sweepAABB","MultipleAABBSweptAABBExample","velocity","movingBox","staticBoxes","out","dot","ux","uy","wx","wy","sweepInto","reflect","collider","ready","callback","document","readyState","setTimeout","addEventListener","handler","removeEventListener","exampleIds","examples","Object","keys","id","exampleConstructor","anchor","getElementById","canvas","createElement","parentNode","insertBefore","nextSibling","getContext","translate","example","push","setInterval","tick","abs","clamp","sign","EPSILON","value","min","max","Point","inverseLength","Hit","Sweep","time","AABB","dx","px","dy","py","sx","sy","paddingX","paddingY","scaleX","scaleY","signX","signY","nearTimeX","nearTimeY","farTimeX","farTimeY","nearTime","farTime","direction","staticColliders","nearest","il"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7651bb09c6985c39684b","'use strict';\n\nimport {AABB, Point} from './intersect';\n\nclass Example {\n  constructor(context, width, height) {\n    this.context = context;\n    this.width = width;\n    this.height = height;\n    this.origin = new Point(this.width * 0.5, this.height * 0.5);\n    this.infiniteLength = Math.sqrt(this.width * this.width + this.height * this.height);\n  }\n\n  drawAABB(box, color='#fff', thickness=1) {\n    let x1 = Math.floor(this.origin.x + box.pos.x - box.half.x);\n    let y1 = Math.floor(this.origin.y + box.pos.y - box.half.y);\n    let x2 = Math.floor(this.origin.x + box.pos.x + box.half.x);\n    let y2 = Math.floor(this.origin.y + box.pos.y + box.half.y);\n    this.context.beginPath();\n    this.context.moveTo(x1, y1);\n    this.context.lineTo(x2, y1);\n    this.context.lineTo(x2, y2);\n    this.context.lineTo(x1, y2);\n    this.context.lineTo(x1, y1);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  drawCircle(circle, color='#fff', thickness=1) {\n    let x = Math.floor(this.origin.x + circle.pos.x);\n    let y = Math.floor(this.origin.y + circle.pos.y);\n    this.context.beginPath();\n    this.context.arc(x, y, circle.radius, 0, 2 * Math.PI, true);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  drawPoint(point, color='#fff', text='', thickness=1) {\n    let x = Math.floor(this.origin.x + point.x - (thickness / 2));\n    let y = Math.floor(this.origin.y + point.y - (thickness / 2));\n    this.context.lineWidth = thickness;\n    this.context.fillStyle = color;\n    this.context.strokeStyle = color;\n    this.context.fillRect(x, y, thickness, thickness);\n    this.context.strokeRect(x, y, thickness, thickness);\n    if (text) {\n      this.context.fillText(text, x + thickness * 4, y + thickness * 2);\n    }\n  }\n\n  drawRay(pos, dir, length, color='#fff', arrow=true, thickness=1) {\n    let pos2 = new Point(pos.x + dir.x * length, pos.y + dir.y * length);\n    this.drawSegment(pos, pos2, color, thickness);\n    if (arrow) {\n      pos = pos2.clone();\n      pos2.x = pos.x - dir.x * 4 + dir.y * 4;\n      pos2.y = pos.y - dir.y * 4 - dir.x * 4;\n      this.drawSegment(pos, pos2, color, thickness);\n      pos2.x = pos.x - dir.x * 4 - dir.y * 4;\n      pos2.y = pos.y - dir.y * 4 + dir.x * 4;\n      this.drawSegment(pos, pos2, color, thickness);\n    }\n  }\n\n  drawSegment(point1, point2, color='#fff', thickness=1) {\n    let x1 = Math.floor(this.origin.x + point1.x);\n    let y1 = Math.floor(this.origin.y + point1.y);\n    let x2 = Math.floor(this.origin.x + point2.x);\n    let y2 = Math.floor(this.origin.y + point2.y);\n    this.context.beginPath();\n    this.context.moveTo(x1, y1);\n    this.context.lineTo(x2, y2);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  tick(elapsed) {\n    this.context.fillStyle = '#000';\n    this.context.fillRect(0, 0, this.width, this.height);\n  }\n}\n\nclass AABBPointExample extends Example {\n  constructor(context, width, height) {\n    super(context, width, height);\n    this.angle = 0;\n    this.pos = new Point();\n    this.box = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  tick(elapsed) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    this.pos.x = Math.cos(this.angle * 0.4) * 32;\n    this.pos.y = Math.sin(this.angle) * 12;\n    let hit = this.box.intersectPoint(this.pos);\n    this.drawAABB(this.box, '#666');\n    if (hit) {\n      this.drawPoint(this.pos, '#f00');\n      this.drawPoint(hit.pos, '#ff0');\n    } else {\n      this.drawPoint(this.pos, '#0f0');\n    }\n  }\n}\n\nclass AABBSegmentExample extends Example {\n  constructor(context, width, height) {\n    super(context, width, height);\n    this.angle = 0;\n    this.box = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  tick(elapsed) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    let pos1 = new Point(Math.cos(this.angle) * 64, Math.sin(this.angle) * 64);\n    let pos2 = new Point(Math.sin(this.angle) * 32, Math.cos(this.angle) * 32);\n    let delta = new Point(pos2.x - pos1.x, pos2.y - pos1.y);\n    let hit = this.box.intersectSegment(pos1, delta);\n    let dir = delta.clone();\n    let length = dir.normalize();\n    this.drawAABB(this.box, '#666');\n    if (hit) {\n      this.drawRay(pos1, dir, length, '#f00');\n      this.drawSegment(pos1, hit.pos, '#ff0');\n      this.drawPoint(hit.pos, '#ff0');\n      this.drawRay(hit.pos, hit.normal, 6, '#ff0', false);\n    } else {\n      this.drawRay(pos1, dir, length, '#0f0');\n    }\n  }\n}\n\nclass AABBAABBExample extends Example {\n  constructor(context, width, height) {\n    super(context, width, height);\n    this.angle = 0;\n    this.box1 = new AABB(new Point(0, 0), new Point(64, 16));\n    this.box2 = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  tick(elapsed) {\n    super.tick(elapsed);\n    this.angle += 0.2 * Math.PI * elapsed;\n    this.box2.pos.x = Math.cos(this.angle) * 96;\n    this.box2.pos.y = Math.sin(this.angle * 2.4) * 24;\n    let hit = this.box1.intersectAABB(this.box2);\n    this.drawAABB(this.box1, '#666');\n    if (hit) {\n      this.drawAABB(this.box2, '#f00');\n      this.box2.pos.x += hit.delta.x;\n      this.box2.pos.y += hit.delta.y;\n      this.drawAABB(this.box2, '#ff0');\n      this.drawPoint(hit.pos, '#ff0');\n      this.drawRay(hit.pos, hit.normal, 4, '#ff0', false);\n    } else {\n      this.drawAABB(this.box2, '#0f0');\n    }\n  }\n}\n\nclass AABBSweptAABBExample extends Example {\n  constructor(context, width, height) {\n    super(context, width, height);\n    this.angle = 0;\n    this.staticBox = new AABB(new Point(0, 0), new Point(112, 16));\n    this.sweepBoxes = [\n      new AABB(new Point(-152, 24), new Point(16, 16)),\n      new AABB(new Point(128, -48), new Point(16, 16)),\n    ];\n    this.sweepDeltas = [\n      new Point(64, -12),\n      new Point(-32, 96),\n    ];\n    this.tempBox = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  tick(elapsed) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    this.drawAABB(this.staticBox, '#666');\n    let factor = ((Math.cos(this.angle) + 1) * 0.5) || 1e-8;\n    this.sweepBoxes.forEach((box, i) => {\n      let delta = this.sweepDeltas[i].clone();\n      delta.x *= factor;\n      delta.y *= factor;\n      let sweep = this.staticBox.sweepAABB(box, delta);\n      let dir = delta.clone();\n      let length = dir.normalize();\n      this.drawAABB(box, '#666');\n      if (sweep.hit) {\n        // Draw a red box at the point where it was trying to move to\n        this.drawRay(box.pos, dir, length, '#f00');\n        this.tempBox.pos.x = box.pos.x + delta.x;\n        this.tempBox.pos.y = box.pos.y + delta.y;\n        this.drawAABB(this.tempBox, '#f00');\n        // Draw a yellow box at the point it actually got to\n        this.tempBox.pos.x = sweep.pos.x;\n        this.tempBox.pos.y = sweep.pos.y;\n        this.drawAABB(this.tempBox, '#ff0');\n        this.drawPoint(sweep.hit.pos, '#ff0');\n        this.drawRay(sweep.hit.pos, sweep.hit.normal, 4, '#ff0', false);\n      } else {\n        this.tempBox.pos.x = sweep.pos.x;\n        this.tempBox.pos.y = sweep.pos.y;\n        this.drawAABB(this.tempBox, '#0f0');\n        this.drawRay(box.pos, dir, length, '#0f0');\n      }\n    });\n  }\n}\n\nclass MultipleAABBSweptAABBExample extends Example {\n  constructor(context, width, height) {\n    super(context, width, height);\n    this.delta = new Point();\n    this.velocity = new Point(48, 48);\n    this.movingBox = new AABB(new Point(0, 0), new Point(8, 8));\n    this.staticBoxes = [\n      new AABB(new Point(-96, 0), new Point(8, 48)),\n      new AABB(new Point( 96, 0), new Point(8, 48)),\n      new AABB(new Point(0, -56), new Point(104, 8)),\n      new AABB(new Point(0,  56), new Point(104, 8)),\n    ];\n  }\n\n  reflect(velocity, normal, out) {\n    let dot = velocity.x * normal.x + velocity.y * normal.y;\n    let ux = normal.x * dot;\n    let uy = normal.y * dot;\n    let wx = velocity.x - ux;\n    let wy = velocity.y - uy;\n    out.x = wx - ux;\n    out.y = wy - uy;\n  }\n\n  tick(elapsed) {\n    super.tick(elapsed);\n    this.delta.x = this.velocity.x * elapsed;\n    this.delta.y = this.velocity.y * elapsed;\n    let sweep = this.movingBox.sweepInto(this.staticBoxes, this.delta);\n    if (sweep.hit) {\n      // This should really attempt to slide along the hit normal, and use up\n      // the rest of the velocity, but that's a bit much for this example\n      this.reflect(this.velocity, sweep.hit.normal, this.velocity);\n    }\n    this.staticBoxes.forEach((staticBox) => {\n      if (sweep.hit && sweep.hit.collider === staticBox) {\n        this.drawAABB(staticBox, '#aaa');\n      } else {\n        this.drawAABB(staticBox, '#666');\n      }\n    });\n    this.movingBox.pos = sweep.pos;\n    this.drawAABB(this.movingBox, sweep.hit ? '#ff0' : '#0f0');\n  }\n}\n\nfunction ready(callback) {\n  if (document.readyState == 'complete') {\n    setTimeout(callback, 1);\n    return;\n  }\n  document.addEventListener('DOMContentLoaded', function handler() {\n    document.removeEventListener('DOMContentLoaded', handler, false);\n    callback();\n  }, false);\n}\n\nready(() => {\n  let exampleIds = {\n    'aabb-vs-point': AABBPointExample,\n    'aabb-vs-segment': AABBSegmentExample,\n    'aabb-vs-aabb': AABBAABBExample,\n    'aabb-vs-swept-aabb': AABBSweptAABBExample,\n    'sweeping-an-aabb-through-multiple-objects': MultipleAABBSweptAABBExample,\n  };\n\n  let examples = [];\n  Object.keys(exampleIds).forEach((id) => {\n    let exampleConstructor = exampleIds[id];\n    let anchor = document.getElementById(id);\n    if (anchor) {\n      let canvas = document.createElement('canvas');\n      anchor.parentNode.insertBefore(canvas, anchor.nextSibling);\n      let width = canvas.width = 640;\n      let height = canvas.height = 160;\n      let context = canvas.getContext('2d');\n      context.translate(0.5, 0.5);\n      let example = new exampleConstructor(context, width, height);\n      if (example) {\n        examples.push(example);\n      }\n    }\n  });\n\n  setInterval(() => {\n    examples.forEach((example) => example.tick(1 / 30));\n  }, 1000 / 30);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./examples.js","'use strict';\n\nexport const EPSILON = 1e-8;\n\nexport function abs(value) {\n  return value < 0 ? -value : value;\n}\n\nexport function clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  } else if (value > max) {\n    return max;\n  } else {\n    return value;\n  }\n}\n\nexport function sign(value) {\n  return value < 0 ? -1 : 1;\n}\n\nexport class Point {\n  constructor(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  clone() {\n    return new Point(this.x, this.y);\n  }\n\n  normalize() {\n    let length = this.x * this.x + this.y * this.y;\n    if (length > 0) {\n      length = Math.sqrt(length);\n      let inverseLength = 1.0 / length;\n      this.x *= inverseLength;\n      this.y *= inverseLength;\n    } else {\n      this.x = 1;\n      this.y = 0;\n    }\n    return length;\n  }\n}\n\nexport class Hit {\n  constructor(collider) {\n    this.collider = collider;\n    this.pos = new Point();\n    this.delta = new Point();\n    this.normal = new Point();\n  }\n}\n\nexport class Sweep {\n  constructor() {\n    this.hit = null;\n    this.pos = new Point();\n    this.time = 1;\n  }\n}\n\nexport class AABB {\n  constructor(pos, half) {\n    this.pos = pos;\n    this.half = half;\n  }\n\n  intersectPoint(point) {\n    const dx = point.x - this.pos.x;\n    const px = this.half.x - abs(dx);\n    if (px <= 0) {\n      return null;\n    }\n\n    const dy = point.y - this.pos.y;\n    const py = this.half.y - abs(dy);\n    if (py <= 0) {\n      return null;\n    }\n\n    let hit = new Hit(this);\n    if (px < py) {\n      const sx = sign(dx);\n      hit.delta.x = px * sx;\n      hit.normal.x = sx;\n      hit.pos.x = this.pos.x + (this.half.x * sx);\n      hit.pos.y = point.y;\n    } else {\n      const sy = sign(dy);\n      hit.delta.y = py * sy;\n      hit.normal.y = sy;\n      hit.pos.x = point.x;\n      hit.pos.y = this.pos.y + (this.half.y * sy);\n    }\n    return hit;\n  }\n\n  intersectSegment(pos, delta, paddingX = 0, paddingY = 0) {\n    let scaleX = 1.0 / delta.x;\n    let scaleY = 1.0 / delta.y;\n    let signX = sign(scaleX);\n    let signY = sign(scaleY);\n    let nearTimeX = (this.pos.x - signX * (this.half.x + paddingX) - pos.x) * scaleX;\n    let nearTimeY = (this.pos.y - signY * (this.half.y + paddingY) - pos.y) * scaleY;\n    let farTimeX = (this.pos.x + signX * (this.half.x + paddingX) - pos.x) * scaleX;\n    let farTimeY = (this.pos.y + signY * (this.half.y + paddingY) - pos.y) * scaleY;\n    if (nearTimeX > farTimeY || nearTimeY > farTimeX) {\n      return null;\n    }\n\n    let nearTime = nearTimeX > nearTimeY ? nearTimeX : nearTimeY;\n    let farTime = farTimeX < farTimeY ? farTimeX : farTimeY;\n    if (nearTime >= 1 || farTime <= 0) {\n      return null;\n    }\n\n    let hit = new Hit(this);\n    hit.time = clamp(nearTime, 0, 1);\n    if (nearTimeX > nearTimeY) {\n      hit.normal.x = -signX;\n      hit.normal.y = 0;\n    } else {\n      hit.normal.x = 0;\n      hit.normal.y = -signY;\n    }\n    hit.delta.x = hit.time * delta.x;\n    hit.delta.y = hit.time * delta.y;\n    hit.pos.x = pos.x + hit.delta.x;\n    hit.pos.y = pos.y + hit.delta.y;\n    return hit;\n  }\n\n  intersectAABB(box) {\n    let dx = box.pos.x - this.pos.x;\n    let px = (box.half.x + this.half.x) - abs(dx);\n    if (px <= 0) {\n      return null;\n    }\n\n    let dy = box.pos.y - this.pos.y;\n    let py = (box.half.y + this.half.y) - abs(dy);\n    if (py <= 0) {\n      return null;\n    }\n\n    let hit = new Hit(this);\n    if (px < py) {\n      let sx = sign(dx);\n      hit.delta.x = px * sx;\n      hit.normal.x = sx;\n      hit.pos.x = this.pos.x + (this.half.x * sx);\n      hit.pos.y = box.pos.y;\n    } else {\n      let sy = sign(dy);\n      hit.delta.y = py * sy;\n      hit.normal.y = sy;\n      hit.pos.x = box.pos.x;\n      hit.pos.y = this.pos.y + (this.half.y * sy);\n    }\n    return hit;\n  }\n\n  sweepAABB(box, delta) {\n    let sweep = new Sweep();\n    if (delta.x === 0 && delta.y === 0) {\n      sweep.pos.x = box.pos.x;\n      sweep.pos.y = box.pos.y;\n      sweep.hit = this.intersectAABB(box);\n      if (sweep.hit) {\n        sweep.time = sweep.hit.time = 0;\n      } else {\n        sweep.time = 1;\n      }\n      return sweep;\n    }\n\n    sweep.hit = this.intersectSegment(box.pos, delta, box.half.x, box.half.y);\n    if (sweep.hit) {\n      sweep.time = clamp(sweep.hit.time - EPSILON, 0, 1);\n      sweep.pos.x = box.pos.x + delta.x * sweep.time;\n      sweep.pos.y = box.pos.y + delta.y * sweep.time;\n      let direction = delta.clone();\n      direction.normalize();\n      sweep.hit.pos.x = clamp(\n        sweep.hit.pos.x + direction.x * box.half.x,\n        this.pos.x - this.half.x, this.pos.x + this.half.x);\n      sweep.hit.pos.y = clamp(\n        sweep.hit.pos.y + direction.y * box.half.y,\n        this.pos.y - this.half.y, this.pos.y + this.half.y);\n    } else {\n      sweep.pos.x = box.pos.x + delta.x;\n      sweep.pos.y = box.pos.y + delta.y;\n      sweep.time = 1;\n    }\n    return sweep;\n  }\n\n  sweepInto(staticColliders, delta) {\n    let nearest = new Sweep();\n    nearest.time = 1;\n    nearest.pos.x = this.pos.x + delta.x;\n    nearest.pos.y = this.pos.y + delta.y;\n    for (let i = 0, il = staticColliders.length; i < il; i++) {\n      let sweep = staticColliders[i].sweepAABB(this, delta);\n      if (sweep.time < nearest.time) {\n        nearest = sweep;\n      }\n    }\n    return nearest;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./intersect.js"],"sourceRoot":""}