{"version":3,"sources":["webpack:///webpack/bootstrap 3018ec96118450bc4bc4","webpack:///./src/examples.ts","webpack:///./src/intersect.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3018ec96118450bc4bc4","\"use strict\";\n\nimport {AABB, Point} from \"./intersect.ts\";\n\nfunction reflect(velocity: Point, normal: Point, out: Point) {\n  const dot = velocity.x * normal.x + velocity.y * normal.y;\n  const ux = normal.x * dot;\n  const uy = normal.y * dot;\n  const wx = velocity.x - ux;\n  const wy = velocity.y - uy;\n  out.x = wx - ux;\n  out.y = wy - uy;\n}\n\nclass Example {\n  public context: CanvasRenderingContext2D;\n  public width: number;\n  public height: number;\n  public origin: Point;\n  public infiniteLength: number;\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    this.context = context;\n    this.width = width;\n    this.height = height;\n    this.origin = new Point(this.width * 0.5, this.height * 0.5);\n    this.infiniteLength = Math.sqrt(\n      this.width * this.width + this.height * this.height);\n  }\n\n  public drawAABB(box: AABB, color: string = \"#fff\", thickness: number = 1) {\n    const x1 = Math.floor(this.origin.x + box.pos.x - box.half.x);\n    const y1 = Math.floor(this.origin.y + box.pos.y - box.half.y);\n    const x2 = Math.floor(this.origin.x + box.pos.x + box.half.x);\n    const y2 = Math.floor(this.origin.y + box.pos.y + box.half.y);\n    this.context.beginPath();\n    this.context.moveTo(x1, y1);\n    this.context.lineTo(x2, y1);\n    this.context.lineTo(x2, y2);\n    this.context.lineTo(x1, y2);\n    this.context.lineTo(x1, y1);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  public drawCircle(circle: {pos: Point, radius: number}, color: string = \"#fff\",\n                    thickness: number = 1) {\n    const x = Math.floor(this.origin.x + circle.pos.x);\n    const y = Math.floor(this.origin.y + circle.pos.y);\n    this.context.beginPath();\n    this.context.arc(x, y, circle.radius, 0, 2 * Math.PI, true);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  public drawPoint(point: Point, color: string = \"#fff\", text: string = \"\",\n                   thickness: number = 1) {\n    const x = Math.floor(this.origin.x + point.x - (thickness / 2));\n    const y = Math.floor(this.origin.y + point.y - (thickness / 2));\n    this.context.lineWidth = thickness;\n    this.context.fillStyle = color;\n    this.context.strokeStyle = color;\n    this.context.fillRect(x, y, thickness, thickness);\n    this.context.strokeRect(x, y, thickness, thickness);\n    if (text) {\n      this.context.fillText(text, x + thickness * 4, y + thickness * 2);\n    }\n  }\n\n  public drawRay(pos: Point, dir: Point, length: number, color: string = \"#fff\",\n                 arrow: boolean = true, thickness: number = 1) {\n    const pos2 = new Point(pos.x + dir.x * length, pos.y + dir.y * length);\n    this.drawSegment(pos, pos2, color, thickness);\n    if (arrow) {\n      pos = pos2.clone();\n      pos2.x = pos.x - dir.x * 4 + dir.y * 4;\n      pos2.y = pos.y - dir.y * 4 - dir.x * 4;\n      this.drawSegment(pos, pos2, color, thickness);\n      pos2.x = pos.x - dir.x * 4 - dir.y * 4;\n      pos2.y = pos.y - dir.y * 4 + dir.x * 4;\n      this.drawSegment(pos, pos2, color, thickness);\n    }\n  }\n\n  public drawSegment(point1: Point, point2: Point, color: string = \"#fff\",\n                     thickness: number = 1) {\n    const x1 = Math.floor(this.origin.x + point1.x);\n    const y1 = Math.floor(this.origin.y + point1.y);\n    const x2 = Math.floor(this.origin.x + point2.x);\n    const y2 = Math.floor(this.origin.y + point2.y);\n    this.context.beginPath();\n    this.context.moveTo(x1, y1);\n    this.context.lineTo(x2, y2);\n    this.context.closePath();\n    this.context.lineWidth = thickness;\n    this.context.strokeStyle = color;\n    this.context.stroke();\n  }\n\n  public tick(elapsed: number) {\n    this.context.fillStyle = \"#000\";\n    this.context.fillRect(0, 0, this.width, this.height);\n  }\n}\n\nclass AABBPointExample extends Example {\n  public angle: number;\n  public pos: Point;\n  public box: AABB;\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    super(context, width, height);\n    this.angle = 0;\n    this.pos = new Point();\n    this.box = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  public tick(elapsed: number) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    this.pos.x = Math.cos(this.angle * 0.4) * 32;\n    this.pos.y = Math.sin(this.angle) * 12;\n    const hit = this.box.intersectPoint(this.pos);\n    this.drawAABB(this.box, \"#666\");\n    if (hit) {\n      this.drawPoint(this.pos, \"#f00\");\n      this.drawPoint(hit.pos, \"#ff0\");\n    } else {\n      this.drawPoint(this.pos, \"#0f0\");\n    }\n  }\n}\n\nclass AABBSegmentExample extends Example {\n  public angle: number;\n  public box: AABB;\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    super(context, width, height);\n    this.angle = 0;\n    this.box = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  public tick(elapsed: number) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    const pos1 = new Point(Math.cos(this.angle) * 64, Math.sin(this.angle) * 64);\n    const pos2 = new Point(Math.sin(this.angle) * 32, Math.cos(this.angle) * 32);\n    const delta = new Point(pos2.x - pos1.x, pos2.y - pos1.y);\n    const hit = this.box.intersectSegment(pos1, delta);\n    const dir = delta.clone();\n    const length = dir.normalize();\n    this.drawAABB(this.box, \"#666\");\n    if (hit) {\n      this.drawRay(pos1, dir, length, \"#f00\");\n      this.drawSegment(pos1, hit.pos, \"#ff0\");\n      this.drawPoint(hit.pos, \"#ff0\");\n      this.drawRay(hit.pos, hit.normal, 6, \"#ff0\", false);\n    } else {\n      this.drawRay(pos1, dir, length, \"#0f0\");\n    }\n  }\n}\n\nclass AABBAABBExample extends Example {\n  public angle: number;\n  public box1: AABB;\n  public box2: AABB;\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    super(context, width, height);\n    this.angle = 0;\n    this.box1 = new AABB(new Point(0, 0), new Point(64, 16));\n    this.box2 = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  public tick(elapsed: number) {\n    super.tick(elapsed);\n    this.angle += 0.2 * Math.PI * elapsed;\n    this.box2.pos.x = Math.cos(this.angle) * 96;\n    this.box2.pos.y = Math.sin(this.angle * 2.4) * 24;\n    const hit = this.box1.intersectAABB(this.box2);\n    this.drawAABB(this.box1, \"#666\");\n    if (hit) {\n      this.drawAABB(this.box2, \"#f00\");\n      this.box2.pos.x += hit.delta.x;\n      this.box2.pos.y += hit.delta.y;\n      this.drawAABB(this.box2, \"#ff0\");\n      this.drawPoint(hit.pos, \"#ff0\");\n      this.drawRay(hit.pos, hit.normal, 4, \"#ff0\", false);\n    } else {\n      this.drawAABB(this.box2, \"#0f0\");\n    }\n  }\n}\n\nclass AABBSweptAABBExample extends Example {\n  public angle: number;\n  public staticBox: AABB;\n  public sweepBoxes: AABB[];\n  public sweepDeltas: Point[];\n  public tempBox: AABB;\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    super(context, width, height);\n    this.angle = 0;\n    this.staticBox = new AABB(new Point(0, 0), new Point(112, 16));\n    this.sweepBoxes = [\n      new AABB(new Point(-152, 24), new Point(16, 16)),\n      new AABB(new Point(128, -48), new Point(16, 16)),\n    ];\n    this.sweepDeltas = [\n      new Point(64, -12),\n      new Point(-32, 96),\n    ];\n    this.tempBox = new AABB(new Point(0, 0), new Point(16, 16));\n  }\n\n  public tick(elapsed: number) {\n    super.tick(elapsed);\n    this.angle += 0.5 * Math.PI * elapsed;\n    this.drawAABB(this.staticBox, \"#666\");\n    const factor = ((Math.cos(this.angle) + 1) * 0.5) || 1e-8;\n    this.sweepBoxes.forEach((box, i) => {\n      const delta = this.sweepDeltas[i].clone();\n      delta.x *= factor;\n      delta.y *= factor;\n      const sweep = this.staticBox.sweepAABB(box, delta);\n      const dir = delta.clone();\n      const length = dir.normalize();\n      this.drawAABB(box, \"#666\");\n      if (sweep.hit) {\n        // Draw a red box at the point where it was trying to move to\n        this.drawRay(box.pos, dir, length, \"#f00\");\n        this.tempBox.pos.x = box.pos.x + delta.x;\n        this.tempBox.pos.y = box.pos.y + delta.y;\n        this.drawAABB(this.tempBox, \"#f00\");\n        // Draw a yellow box at the point it actually got to\n        this.tempBox.pos.x = sweep.pos.x;\n        this.tempBox.pos.y = sweep.pos.y;\n        this.drawAABB(this.tempBox, \"#ff0\");\n        this.drawPoint(sweep.hit.pos, \"#ff0\");\n        this.drawRay(sweep.hit.pos, sweep.hit.normal, 4, \"#ff0\", false);\n      } else {\n        this.tempBox.pos.x = sweep.pos.x;\n        this.tempBox.pos.y = sweep.pos.y;\n        this.drawAABB(this.tempBox, \"#0f0\");\n        this.drawRay(box.pos, dir, length, \"#0f0\");\n      }\n    });\n  }\n}\n\nclass MultipleAABBSweptAABBExample extends Example {\n  public delta: Point;\n  public velocity: Point;\n  public movingBox: AABB;\n  public staticBoxes: AABB[];\n\n  constructor(context: CanvasRenderingContext2D, width: number, height: number) {\n    super(context, width, height);\n    this.delta = new Point();\n    this.velocity = new Point(48, 48);\n    this.movingBox = new AABB(new Point(0, 0), new Point(8, 8));\n    this.staticBoxes = [\n      new AABB(new Point(-96, 0), new Point(8, 48)),\n      new AABB(new Point( 96, 0), new Point(8, 48)),\n      new AABB(new Point(0, -56), new Point(104, 8)),\n      new AABB(new Point(0,  56), new Point(104, 8)),\n    ];\n  }\n\n  public tick(elapsed: number) {\n    super.tick(elapsed);\n    this.delta.x = this.velocity.x * elapsed;\n    this.delta.y = this.velocity.y * elapsed;\n    const sweep = this.movingBox.sweepInto(this.staticBoxes, this.delta);\n    if (sweep.hit) {\n      // This should really attempt to slide along the hit normal, and use up\n      // the rest of the velocity, but that\"s a bit much for this example\n      reflect(this.velocity, sweep.hit.normal, this.velocity);\n    }\n    this.staticBoxes.forEach((staticBox) => {\n      if (sweep.hit && sweep.hit.collider === staticBox) {\n        this.drawAABB(staticBox, \"#aaa\");\n      } else {\n        this.drawAABB(staticBox, \"#666\");\n      }\n    });\n    this.movingBox.pos = sweep.pos;\n    this.drawAABB(this.movingBox, sweep.hit ? \"#ff0\" : \"#0f0\");\n  }\n}\n\nfunction ready(callback) {\n  if (document.readyState === \"complete\") {\n    setTimeout(callback, 1);\n    return;\n  }\n  document.addEventListener(\"DOMContentLoaded\", function handler() {\n    document.removeEventListener(\"DOMContentLoaded\", handler, false);\n    callback();\n  }, false);\n}\n\nready(() => {\n  const exampleIds = {\n    \"aabb-vs-aabb\": AABBAABBExample,\n    \"aabb-vs-point\": AABBPointExample,\n    \"aabb-vs-segment\": AABBSegmentExample,\n    \"aabb-vs-swept-aabb\": AABBSweptAABBExample,\n    \"sweeping-an-aabb-through-multiple-objects\": MultipleAABBSweptAABBExample,\n  };\n\n  const examples: Example[] = [];\n  Object.keys(exampleIds).forEach((id) => {\n    const exampleConstructor = exampleIds[id];\n    const anchor = document.getElementById(id);\n    if (!anchor || !anchor.parentNode) {\n      return;\n    }\n    const canvas = document.createElement(\"canvas\");\n    if (!canvas) {\n      return;\n    }\n    anchor.parentNode.insertBefore(canvas, anchor.nextSibling);\n    const width = canvas.width = 640;\n    const height = canvas.height = 160;\n    const context = canvas.getContext(\"2d\");\n    if (!context) {\n      return;\n    }\n    context.translate(0.5, 0.5);\n    const example = new exampleConstructor(context, width, height);\n    if (example) {\n      examples.push(example);\n    }\n  });\n\n  setInterval(() => {\n    examples.forEach((example) => example.tick(1 / 30));\n  }, 1000 / 30);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/examples.ts","\"use strict\";\n\nexport const EPSILON: number = 1e-8;\n\nexport function abs(value: number): number {\n  return value < 0 ? -value : value;\n}\n\nexport function clamp(value: number, min: number, max: number): number {\n  if (value < min) {\n    return min;\n  } else if (value > max) {\n    return max;\n  } else {\n    return value;\n  }\n}\n\nexport function sign(value: number): number {\n  return value < 0 ? -1 : 1;\n}\n\nexport class Point {\n  public x: number;\n  public y: number;\n\n  constructor(x: number = 0, y: number = 0) {\n    this.x = x;\n    this.y = y;\n  }\n\n  public clone(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  public normalize(): number {\n    let length = this.x * this.x + this.y * this.y;\n    if (length > 0) {\n      length = Math.sqrt(length);\n      const inverseLength = 1.0 / length;\n      this.x *= inverseLength;\n      this.y *= inverseLength;\n    } else {\n      this.x = 1;\n      this.y = 0;\n    }\n    return length;\n  }\n}\n\nexport class Hit {\n  public collider;\n  public pos: Point;\n  public delta: Point;\n  public normal: Point;\n  public time: number;\n\n  constructor(collider) {\n    this.collider = collider;\n    this.pos = new Point();\n    this.delta = new Point();\n    this.normal = new Point();\n    this.time = 0;\n  }\n}\n\nexport class Sweep {\n  public hit: Hit | null;\n  public pos: Point;\n  public time: number;\n\n  constructor() {\n    this.hit = null;\n    this.pos = new Point();\n    this.time = 1;\n  }\n}\n\nexport class AABB {\n  public pos: Point;\n  public half: Point;\n\n  constructor(pos: Point, half: Point) {\n    this.pos = pos;\n    this.half = half;\n  }\n\n  public intersectPoint(point: Point): Hit | null {\n    const dx = point.x - this.pos.x;\n    const px = this.half.x - abs(dx);\n    if (px <= 0) {\n      return null;\n    }\n\n    const dy = point.y - this.pos.y;\n    const py = this.half.y - abs(dy);\n    if (py <= 0) {\n      return null;\n    }\n\n    const hit = new Hit(this);\n    if (px < py) {\n      const sx = sign(dx);\n      hit.delta.x = px * sx;\n      hit.normal.x = sx;\n      hit.pos.x = this.pos.x + (this.half.x * sx);\n      hit.pos.y = point.y;\n    } else {\n      const sy = sign(dy);\n      hit.delta.y = py * sy;\n      hit.normal.y = sy;\n      hit.pos.x = point.x;\n      hit.pos.y = this.pos.y + (this.half.y * sy);\n    }\n    return hit;\n  }\n\n  public intersectSegment(pos: Point, delta: Point, paddingX: number = 0,\n                          paddingY: number = 0): Hit | null {\n    const scaleX = 1.0 / delta.x;\n    const scaleY = 1.0 / delta.y;\n    const signX = sign(scaleX);\n    const signY = sign(scaleY);\n    const nearTimeX = (this.pos.x - signX * (this.half.x + paddingX) - pos.x) * scaleX;\n    const nearTimeY = (this.pos.y - signY * (this.half.y + paddingY) - pos.y) * scaleY;\n    const farTimeX = (this.pos.x + signX * (this.half.x + paddingX) - pos.x) * scaleX;\n    const farTimeY = (this.pos.y + signY * (this.half.y + paddingY) - pos.y) * scaleY;\n    if (nearTimeX > farTimeY || nearTimeY > farTimeX) {\n      return null;\n    }\n\n    const nearTime = nearTimeX > nearTimeY ? nearTimeX : nearTimeY;\n    const farTime = farTimeX < farTimeY ? farTimeX : farTimeY;\n    if (nearTime >= 1 || farTime <= 0) {\n      return null;\n    }\n\n    const hit = new Hit(this);\n    hit.time = clamp(nearTime, 0, 1);\n    if (nearTimeX > nearTimeY) {\n      hit.normal.x = -signX;\n      hit.normal.y = 0;\n    } else {\n      hit.normal.x = 0;\n      hit.normal.y = -signY;\n    }\n    hit.delta.x = (1.0 - hit.time) * -delta.x;\n    hit.delta.y = (1.0 - hit.time) * -delta.y;\n    hit.pos.x = pos.x + delta.x * hit.time;\n    hit.pos.y = pos.y + delta.y * hit.time;\n    return hit;\n  }\n\n  public intersectAABB(box: AABB): Hit | null {\n    const dx = box.pos.x - this.pos.x;\n    const px = (box.half.x + this.half.x) - abs(dx);\n    if (px <= 0) {\n      return null;\n    }\n\n    const dy = box.pos.y - this.pos.y;\n    const py = (box.half.y + this.half.y) - abs(dy);\n    if (py <= 0) {\n      return null;\n    }\n\n    const hit = new Hit(this);\n    if (px < py) {\n      const sx = sign(dx);\n      hit.delta.x = px * sx;\n      hit.normal.x = sx;\n      hit.pos.x = this.pos.x + (this.half.x * sx);\n      hit.pos.y = box.pos.y;\n    } else {\n      const sy = sign(dy);\n      hit.delta.y = py * sy;\n      hit.normal.y = sy;\n      hit.pos.x = box.pos.x;\n      hit.pos.y = this.pos.y + (this.half.y * sy);\n    }\n    return hit;\n  }\n\n  public sweepAABB(box: AABB, delta: Point): Sweep {\n    const sweep = new Sweep();\n    if (delta.x === 0 && delta.y === 0) {\n      sweep.pos.x = box.pos.x;\n      sweep.pos.y = box.pos.y;\n      sweep.hit = this.intersectAABB(box);\n      if (sweep.hit) {\n        sweep.time = sweep.hit.time = 0;\n      } else {\n        sweep.time = 1;\n      }\n      return sweep;\n    }\n\n    sweep.hit = this.intersectSegment(box.pos, delta, box.half.x, box.half.y);\n    if (sweep.hit) {\n      sweep.time = clamp(sweep.hit.time - EPSILON, 0, 1);\n      sweep.pos.x = box.pos.x + delta.x * sweep.time;\n      sweep.pos.y = box.pos.y + delta.y * sweep.time;\n      const direction = delta.clone();\n      direction.normalize();\n      sweep.hit.pos.x = clamp(\n        sweep.hit.pos.x + direction.x * box.half.x,\n        this.pos.x - this.half.x, this.pos.x + this.half.x);\n      sweep.hit.pos.y = clamp(\n        sweep.hit.pos.y + direction.y * box.half.y,\n        this.pos.y - this.half.y, this.pos.y + this.half.y);\n    } else {\n      sweep.pos.x = box.pos.x + delta.x;\n      sweep.pos.y = box.pos.y + delta.y;\n      sweep.time = 1;\n    }\n    return sweep;\n  }\n\n  public sweepInto(staticColliders, delta: Point): Sweep {\n    let nearest = new Sweep();\n    nearest.time = 1;\n    nearest.pos.x = this.pos.x + delta.x;\n    nearest.pos.y = this.pos.y + delta.y;\n    for (let i = 0, il = staticColliders.length; i < il; i++) {\n      const sweep = staticColliders[i].sweepAABB(this, delta);\n      if (sweep.time < nearest.time) {\n        nearest = sweep;\n      }\n    }\n    return nearest;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/intersect.ts"],"sourceRoot":""}